#include "WebData.h"

String WebDataWiFiSetupIndex() {
	return F("<!DOCTYPE html><html lang=\"ja\"><head><meta charset=\"utf-8\"><title></title><meta name=\"viewport\" content=\"width=1000\"><style type=\"text/css\">body{font-size:1rem;font-family:sans-serif}.container{width:-20px;margin:10px auto;padding:20px 20px;border:1px solid #DDDDDD;border-radius:0px}button{display:inline-block;font-size:1rem;padding:0.5em 1em;margin:5px 0 5px 0;text-decoration:none;background:#f7f7f7;border-left:solid 6px #000000;color:#000000;font-weight:bold;box-shadow:0px 2px 2px rgba(0,0,0,0.29);border-radius:5px}.bt_blue{border-left:solid 6px #0000FF;color:#0000FF}.bt_red{border-left:solid 6px #FF0000;color:#FF0000}.bt_brown{border-left:solid 6px #990000;color:#990000}.bt_green{border-left:solid 6px #009900;color:#009900}button:disabled{color:#666666;border-left:solid 6px #666666;box-shadow:none}button:active{box-shadow:inset 0 0 2px rgba(128,128,128,0.1);transform:translateY(2px)}.panel_top{width:-20px;clear:both;padding:10px;margin:5px}.panel_top h1{padding:2px;margin:0px;font-weight:bold;font-size:2rem}.panel_left{width:200px;border:1px solid #AAAAAA;float:left;padding:5px;margin:0 5px 10px 5px}.panel_left h1{padding:2px;margin:0px;background-color:#EEEEEE;font-size:1.2rem;font-weight:normal;text-align:center}.panel_left button{width:100%}.panel_left .commit{background-color:#FFEEEE;margin:10px 0 10px 0;display:none}.panel_left .commit p{padding:10px 0 10px 0}.panel_left p{padding:2px;margin:0px;font-size:1rem;font-weight:normal;text-align:center}.panel_center{margin:5px 5px 5px 222px;padding:10px;text-align:center}.panel_center table{width:100%}.panel_center h1{font-size:1.5rem;margin:5px;padding:5px;text-align:center}.panel_center h2{font-size:1.1rem;margin:5px;padding:5px}.panel_bottom{width:-20px;clear:both;padding:10px;margin:5px;text-align:right}.panel_bottom small{color:#999999}.panel_center button{width:150px;margin:0 10px 0 10px}.panel_center td button{width:100px;margin:0 10px 0 10px}h1{padding:10px;font-size:2rem}h2{padding:10px;font-size:1rem}h3{font-size:0.9rem}h4{font-size:0.8rem}blockquote{background-color:#F4F4F4;padding:5px}table{border-collapse:collapse;margin:20px 0px}table th{border:1px solid #DDDDDD;background-color:#EEEEEE;padding:10px 20px}table td{border:1px solid #DDDDDD;padding:5px 20px;text-align:center}#m_wifi{display:none}#d_ap_scan_now{animation:d_ap_scan_now_a 0.2s infinite alternate}@keyframes d_ap_scan_now_a{0%{color:#FFFFFF}100%{color:#000000}}</style><script type=\"text/javascript\">// <![CDATA[\n!function(t){var n={};function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var s in t)e.d(i,s,function(n){return t[n]}.bind(null,s));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p=\"\",e(e.s=0)}([function(t,n,e){\"use strict\";function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.r(n);var s=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.w=n,this.d=this.w.document}var n,e,s;return n=t,(e=[{key:\"id\",value:function(t){return this.d.getElementById(t)}},{key:\"show\",value:function(t){return console.log(\"show:\"+t),this.id(t).style.display=\"block\",this}},{key:\"hide\",value:function(t){return console.log(\"hide:\"+t),this.id(t).style.display=\"none\",this}},{key:\"enable\",value:function(t){this.id(t).disabled=!1}},{key:\"disable\",value:function(t){this.id(t).disabled=!0}},{key:\"inner\",value:function(t,n){return n?this.id(t).innerHTML=n:n}},{key:\"json\",value:function(t,n){return new Promise((function(e,i){var s=new XMLHttpRequest;if(n?(console.log(\"Fetch(POST): \",t),s.open(\"POST\",t,!0),s.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded; charset=UTF-8\")):(console.log(\"Fetch(GET): \",t),s.open(\"GET\",t,!0)),s.onload=function(){this.status>=200&&this.status<400?e(JSON.parse(this.response)):i()},n){var a=[];for(var o in n){var r=n[o],u=encodeURIComponent(o)+\"=\"+encodeURIComponent(r);a.push(u)}var c=a.join(\"&\").replace(/%20/g,\"+\");s.send(c)}else s.send()}))}}])&&i(n.prototype,e),s&&i(n,s),t}();function a(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function o(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}var u=new s(window),c=function(){function t(){a(this,t),this.events=[]}return r(t,[{key:\"click\",value:function(t,n){return u.id(t).addEventListener(\"click\",n),this.events.push([t,\"click\",n]),this}},{key:\"_rh\",value:function(t){u.id(t[0]).removeEventListener(t[1],t[2])}},{key:\"renove\",value:function(t,n){for(var e in this.events){var i=this.events[e];i[0]==t&&i[1]==n&&this._rh(i)}}},{key:\"clear\",value:function(){for(var t in this.events)this._rh(this.events[t]);return this.events=[],this}}]),t}(),h=function(){function t(n){a(this,t),this.ev=new c,this.cb={leave:function(){}}}return r(t,[{key:\"show\",value:function(){this.reset(),this.pages_start(),u.show(this.id)}},{key:\"hide\",value:function(){this.reset(),u.hide(this.id),this.cb.leave()}},{key:\"reset\",value:function(){for(var t in this.pa)this.pa[t].hide()}},{key:\"pages_start\",value:function(){}}]),t}(),l=function(){function t(n){var e=this;a(this,t),this.stash=n.stash,this.reset=function(){return n.reset(),e},this.ev=new c}return r(t,[{key:\"show\",value:function(t){return this.number=t,this.reset().render().events(),u.show(this.ids[0]),this}},{key:\"hide\",value:function(){for(var t in this.ids)u.hide(this.ids[t]);this.ev.clear()}},{key:\"render\",value:function(){return this}},{key:\"events\",value:function(){return this}}]),t}();function f(t,n,e){return(f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=y(t)););return t}(t,n);if(i){var s=Object.getOwnPropertyDescriptor(i,n);return s.get?s.get.call(e):s.value}})(t,n,e||t)}function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function d(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function v(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,n,e){return n&&v(t.prototype,n),e&&v(t,e),t}function _(t,n){return!n||\"object\"!==p(n)&&\"function\"!=typeof n?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):n}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&w(t,n)}function w(t,n){return(w=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var k=new s(window),g=function(t){function n(t){var e;return d(this,n),(e=_(this,y(n).call(this,t))).ids=[\"d_ap_list\"],e.cb={edit:function(t){}},e}return m(n,t),b(n,[{key:\"load\",value:function(){var t=this;k.json(\"/api/ap/list\").then((function(n){for(var e in n.data)t.stash.ap[e]={ssid:n.data[e].ssid,passphase:\"\",update:!1}})).then((function(){return t.cb.committable(!1),t.show()}))}},{key:\"events\",value:function(){var t=this;for(var n in this.stash.ap)!function(n){t.ev.click(\"b_ap_setup_\"+n,(function(e){t.cb.edit(n)}))}(n);return this}},{key:\"render\",value:function(){var t='<tr><th>番号</th><th style=\"min-width:200px\">SSID</th><th>　</th></tr>',n=!1;for(var e in this.stash.ap){var i=this.stash.ap[e];t=t+\"<tr><td>\"+(new Number(e)+1)+\"</td>\"+(i.update?'<td style=\"background-color:#FFFFAA\">':\"<td>\")+i.ssid+'</td><td><button id=\"b_ap_setup_'+e+'\" class=\"bt_blue\">設定</button></td>',i.update&&(n=!0)}return n&&this.cb.committable(!0),k.inner(\"t_ap_list\",t),this}}]),n}(l),O=function(t){function n(t){var e;return d(this,n),(e=_(this,y(n).call(this,t))).ids=[\"d_ap_info\"],e.cb={back:function(){},scan:function(t){},apply:function(){}},e}return m(n,t),b(n,[{key:\"render\",value:function(){return k.inner(\"s_ap_info_num\",new Number(this.number)+1),k.id(\"t_ap_info_ssid\").value=this.stash.ap[this.number].ssid,k.id(\"t_ap_info_passphase\").value=this.stash.ap[this.number].passphase,this}},{key:\"apply\",value:function(t){return this.reset().render().events(),k.id(\"t_ap_info_ssid\").value=t,k.show(this.ids[0]),this}},{key:\"events\",value:function(){var t=this;return this.ev.click(\"b_ap_info_back\",(function(){t.cb.back()})),this.ev.click(\"b_ap_info_scan\",(function(){t.cb.scan(t.number)})),this.ev.click(\"b_ap_info_commit\",(function(){var n=k.id(\"t_ap_info_ssid\").value,e=k.id(\"t_ap_info_passphase\").value;t.stash.ap[t.number]={ssid:n,passphase:e,update:!0},t.cb.apply()})),this}}]),n}(l),j=function(t){function n(t){var e;return d(this,n),(e=_(this,y(n).call(this,t))).ids=[\"d_ap_scan\",\"d_ap_scan_now\"],e.cb={back:function(){},apply:function(){}},e.d={},e}return m(n,t),b(n,[{key:\"fetch\",value:function(){var t=this;return new Promise((function(n,e){k.json(\"/api/ap/scan\",{fetch:1}).then((function(){setTimeout((function(){k.json(\"/api/ap/scan\").then((function(e){t.d=e.data,n()})).catch((function(t){e(t)}))}),1e3)})).catch((function(t){e(t)}))}))}},{key:\"show\",value:function(t){var n=this;return this.number=t,k.inner(\"s_ap_scan_num\",new Number(t)+1),this.reset(),k.show(\"d_ap_scan_now\"),this.fetch().then((function(){n.reset().render().events(),k.hide(\"d_ap_scan_now\").show(n.ids[0])})),this}},{key:\"render\",value:function(){var t=\"<tr><th>SSID</th><th>Ch.</th><th>RSSI</th><th>　</th></tr>\";for(var n in this.d.sort((function(t,n){return n.rssi-t.rssi})),this.d){var e=this.d[n];t=t+\"<tr><td>\"+e.ssid+\"</td><td>\"+e.channel+\"</td><td>\"+e.rssi+'dB</td><td><button id=\"t_ap_scan_sel_'+n+'\" class=\"bt_blue\">選択</button></td>'}return k.inner(\"t_ap_scan\",t),this}},{key:\"events\",value:function(){var t=this;for(var n in this.d)!function(n){t.ev.click(\"t_ap_scan_sel_\"+n,(function(e){t.cb.apply(t.d[n].ssid)}))}(n);this.ev.click(\"b_ap_scan_back\",(function(){t.cb.back(t.number)}))}}]),n}(l),S=function(t){function n(t){var e;return d(this,n),(e=_(this,y(n).call(this,t))).ids=[\"d_ap_commit\"],e.cb={cancel:function(){},apply:function(){}},e.evb=new c(k),e.committable(!1),e}return m(n,t),b(n,[{key:\"committable\",value:function(t){t?this.show_buttons():this.hide_buttons()}},{key:\"show_buttons\",value:function(){var t=this;this.evb.click(\"b_commit\",(function(){t.commit()})),this.evb.click(\"b_cancel\",(function(){t.cb.cancel()})),k.show(\"p_commit\")}},{key:\"hide_buttons\",value:function(){this.evb.clear(),k.hide(\"p_commit\")}},{key:\"commit\",value:function(){var t={};for(var n in this.stash.ap)t[\"ssid\"+n]=this.stash.ap[n].ssid,t[\"passphase\"+n]=this.stash.ap[n].passphase,t[\"update\"+n]=this.stash.ap[n].update?1:0;k.json(\"/api/ap/config\",t),this.show()}},{key:\"show\",value:function(){f(y(n.prototype),\"show\",this).call(this),k.hide(\"p_commit\"),this.cb.apply()}}]),n}(l),P=function(t){function n(){var t;d(this,n),(t=_(this,y(n).call(this))).id=\"m_wifi\",t.stash={ap:[]};var e={stash:t.stash,reset:function(){t.reset()}},i={list:new g(e),info:new O(e),scan:new j(e),commit:new S(e)};return i.list.cb={edit:function(t){i.info.show(t)},committable:function(t){i.commit.committable(t)}},i.info.cb={back:function(){i.list.show()},scan:function(t){i.scan.show(t)},apply:function(){i.list.show()}},i.scan.cb={back:function(t){i.info.show(t)},apply:function(t){i.info.apply(t)}},i.commit.cb={cancel:function(){i.list.load()},apply:function(){t.buttons_enable_all()}},t.pa=i,t}return m(n,t),b(n,[{key:\"hide\",value:function(){f(y(n.prototype),\"hide\",this).call(this),this.pa.commit.committable(!1)}},{key:\"pages_start\",value:function(){this.pa.list.load()}}]),n}(h),T=function(t){function n(){var t;return d(this,n),(t=_(this,y(n).call(this))).id=\"m_index\",t}return m(n,t),n}(h),E=function(){function t(){d(this,t),this.ev=new c,this.pa={main:{page:new T,btn:\"btc_main\"},wifi:{page:new P,btn:\"btc_wifi\"}}}return b(t,[{key:\"change\",value:function(t){for(var n in this.pa)this.pa[n].page.hide();return this.pa[t].page.show(),this}},{key:\"disable_all\",value:function(){for(var t in this.ev.clear(),this.pa)k.disable(this.pa[t].btn);return this}},{key:\"enable_all\",value:function(){for(var t in this.pa)this.enable(t);return this}},{key:\"enable\",value:function(t){var n=this;console.log(\"ENABLE\",t);var e=this.pa[t];return k.enable(e.btn),this.ev.click(e.btn,(function(){n.change(t)})),this}}]),t}(),x=function(){function t(){d(this,t),this.rp=new E}return b(t,[{key:\"run\",value:function(){this.rp.change(\"main\").enable_all(),this.data_pane()}},{key:\"data_pane\",value:function(){var t=function(){var t=function(t,n){n=n||\"---\",k.inner(t,n)};k.json(\"/api/ap/info\").then((function(n){t(\"dp_hostname\",n.hostname),t(\"dp_ap_ssid\",n.ap.ssid),t(\"dp_ap_ip\",n.ap.ip),t(\"dp_sta_ssid\",n.sta.ssid),t(\"dp_sta_ip\",n.sta.ip)}))};this.data_pane_timer&&clearInterval(this.data_pane_timer),setInterval(t,1e4),t()}}]),t}();document.addEventListener(\"DOMContentLoaded\",(function(){new s(window).json(\"/api/page\").then((function(t){(t.page=\"index\")&&new x(window).run()}))}))}]);\n// ]]></script></head><body><div class=\"container\"><div class=\"panel_top\"><h1>ESP-WROOM-02 設定</h1></div><div class=\"panel_left\"><div class=\"commit\" id=\"p_commit\"><p>適用ボタンを押すまで<br>反映されません</p><button id=\"b_commit\" class=\"bt_red\">適用</button> <button id=\"b_cancel\">キャンセル</button></div><h1>ホスト名</h1><p><span id=\"dp_hostname\">---</span></p><h1>AP SSID</h1><p><span id=\"dp_ap_ssid\">---</span></p><h1>AP IP</h1><p><span id=\"dp_ap_ip\">---</span></p><h1>STA SSID</h1><p><span id=\"dp_sta_ssid\">---</span></p><h1>STA IP</h1><p><span id=\"dp_sta_ip\">---</span></p><hr><button class=\"bt_blue\" id=\"btc_main\" disabled=\"disabled\">メインメニュー</button> <button class=\"bt_blue\" id=\"btc_wifi\" disabled=\"disabled\">無線LAN子機設定</button> <button class=\"bt_blue\" id=\"btc_config\" disabled=\"disabled\">動作設定</button> <button class=\"bt_brown\">リセット</button></div><div class=\"panel_center\"><div class=\"panel_center_inner\"><div id=\"m_index\"><p>毎度ありがとうございます</p></div><div id=\"m_wifi\"><h1>無線LAN子機設定</h1><div id=\"d_ap_list\"><h2>アクセスポイントの設定</h2><table id=\"t_ap_list\"></table></div><div id=\"d_ap_info\"><h2>アクセスポイントの設定 → <span id=\"s_ap_info_num\"></span></h2><table><tr><th>SSID<td style=\"text-align:left\"><input type=\"text\" id=\"t_ap_info_ssid\" size=\"32\" maxlength=\"64\"></td></th></tr><tr><th>パスフレーズ<td style=\"text-align:left\"><input type=\"text\" id=\"t_ap_info_passphase\" size=\"64\" maxlength=\"64\"></td></th></tr></table><button id=\"b_ap_info_back\">戻る</button> <button id=\"b_ap_info_scan\" class=\"bt_green\">スキャン</button> <button id=\"b_ap_info_commit\" class=\"bt_blue\">設定</button></div><div id=\"d_ap_scan_now\"><p><blink>ただいまスキャン中！</blink></p></div><div id=\"d_ap_scan\"><h2>アクセスポイントの設定 → <span id=\"s_ap_scan_num\"></span></h2><p>電波の強い順番です</p><table id=\"t_ap_scan\"></table><button id=\"b_ap_scan_back\">戻る</button></div><div id=\"d_ap_commit\"><p>設定完了</p></div></div></div></div><div class=\"panel_bottom\"><small>&copy; mamemo technologies.</small></div></div></body></html>");
}
